-- Create schema objects for payroll\nCREATE TABLE employees (\n  emp_id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,\n  emp_code VARCHAR2(30) UNIQUE NOT NULL,\n  first_name VARCHAR2(100) NOT NULL,\n  last_name VARCHAR2(100),\n  dept VARCHAR2(100),\n  designation VARCHAR2(100),\n  bank_account VARCHAR2(30),\n  basic_pay NUMBER(12,2) DEFAULT 0,\n  hra_percent NUMBER(5,2) DEFAULT 20,\n  da_percent NUMBER(5,2) DEFAULT 10,\n  pf_percent NUMBER(5,2) DEFAULT 12,\n  is_active CHAR(1) DEFAULT 'Y',\n  created_at DATE DEFAULT SYSDATE\n);\n\nCREATE TABLE attendance (\n  att_id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,\n  emp_id NUMBER REFERENCES employees(emp_id) ON DELETE CASCADE,\n  att_date DATE NOT NULL,\n  status VARCHAR2(20) CHECK (status IN ('PRESENT','ABSENT','LEAVE','HOLIDAY','WFH')),\n  in_time VARCHAR2(10),\n  out_time VARCHAR2(10),\n  working_hours NUMBER(5,2)\n);\n\nCREATE TABLE leaves (\n  leave_id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,\n  emp_id NUMBER REFERENCES employees(emp_id) ON DELETE CASCADE,\n  leave_from DATE,\n  leave_to DATE,\n  leave_type VARCHAR2(30),\n  status VARCHAR2(20) DEFAULT 'APPROVED'\n);\n\nCREATE TABLE salary_runs (\n  run_id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,\n  run_month VARCHAR2(7) NOT NULL, -- e.g. '2025-09'\n  created_by VARCHAR2(100),\n  created_on DATE DEFAULT SYSDATE\n);\n\nCREATE TABLE salary_details (\n  salary_id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,\n  run_id NUMBER REFERENCES salary_runs(run_id) ON DELETE CASCADE,\n  emp_id NUMBER REFERENCES employees(emp_id),\n  gross_salary NUMBER(12,2),\n  total_deductions NUMBER(12,2),\n  net_salary NUMBER(12,2),\n  tax NUMBER(12,2),\n  pf NUMBER(12,2)\n);\n